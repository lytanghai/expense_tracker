name: Wake Up Render App

on:
  schedule:
    # First wake-up at exactly 8:00 AM UTC (GMT)
    - cron: "0 8 * * *"
    # Then every 10 minutes from 8:10 to 22:50 UTC (10-minute interval, but skip 8:00)
    - cron: "10-59/10 8 * * *"
    - cron: "*/10 9-21 * * *"
    - cron: "0-50/10 22 * * *"
  workflow_dispatch:  # Enables manual trigger

jobs:
  wakeup:
    runs-on: ubuntu-latest

    steps:
      - name: Wake up Render app by calling API
        run: |
          curl --fail -X GET https://expense-tracker-istq.onrender.com/expense_tracker/expense/wakeup
